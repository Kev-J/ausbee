EESchema Schematic File Version 2  date dim. 06 oct. 2013 15:40:43 CEST
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:stm32f407zg
LIBS:sn65hvd232d
LIBS:sd_holder
LIBS:ausbee-cache
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 4 4
Title ""
Date "6 oct 2013"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	7550 4600 7500 4600
Wire Wire Line
	4100 6050 4100 6000
Wire Wire Line
	2950 5400 3000 5400
Wire Wire Line
	7650 3200 7500 3200
Wire Wire Line
	5800 6050 5800 6000
Wire Wire Line
	6700 6050 6700 6000
Wire Wire Line
	9150 2500 9200 2500
Wire Wire Line
	9150 2250 9150 2300
Wire Wire Line
	9150 2300 9200 2300
Wire Wire Line
	3500 6050 3500 6000
Wire Wire Line
	7800 2400 7500 2400
Wire Wire Line
	4300 1450 4300 1400
Wire Wire Line
	9350 1350 9300 1350
Wire Wire Line
	9350 1550 9300 1550
Wire Wire Line
	9300 1550 9300 1600
Wire Wire Line
	950  1400 950  1450
Wire Wire Line
	1500 900  1500 800 
Wire Wire Line
	1400 1450 1500 1450
Wire Wire Line
	10800 1900 10850 1900
Wire Wire Line
	10250 1850 10250 1900
Wire Wire Line
	10250 1900 10300 1900
Wire Wire Line
	10300 1650 10250 1650
Wire Wire Line
	10250 1650 10250 1600
Wire Wire Line
	10800 1650 10850 1650
Wire Wire Line
	10800 1400 10850 1400
Wire Wire Line
	10250 1350 10250 1400
Wire Wire Line
	10250 1400 10300 1400
Wire Wire Line
	4400 1450 4400 1400
Wire Wire Line
	10800 900  10850 900 
Connection ~ 1950 2700
Wire Wire Line
	2000 2700 1900 2700
Wire Wire Line
	1950 3100 1250 3100
Wire Wire Line
	3000 4300 2950 4300
Wire Wire Line
	4100 1450 4100 1400
Wire Wire Line
	3500 1450 3500 1400
Wire Wire Line
	4900 1450 4900 1350
Wire Wire Line
	4900 1350 4950 1350
Wire Wire Line
	4950 1350 4950 1400
Wire Wire Line
	5800 1450 5800 1400
Wire Wire Line
	7600 1950 7600 2000
Wire Wire Line
	7600 2000 7500 2000
Wire Wire Line
	7500 3300 7600 3300
Wire Wire Line
	7600 4400 7500 4400
Wire Wire Line
	6000 6000 6000 6150
Wire Wire Line
	6000 6150 5950 6150
Wire Wire Line
	5000 6000 5000 6150
Wire Wire Line
	5000 6150 4950 6150
Wire Wire Line
	3700 6000 3700 6150
Wire Wire Line
	3700 6150 3650 6150
Wire Wire Line
	3000 5200 2850 5200
Wire Wire Line
	2850 5200 2850 5100
Wire Wire Line
	3000 5000 2700 5000
Wire Wire Line
	2700 5000 2700 5050
Connection ~ 2350 1750
Wire Wire Line
	2350 1800 2350 1750
Wire Wire Line
	2500 1650 2500 1750
Wire Wire Line
	2500 1750 2150 1750
Wire Wire Line
	3000 3500 2700 3500
Wire Wire Line
	2700 3500 2700 3550
Wire Wire Line
	3000 2500 2850 2500
Wire Wire Line
	6850 7650 6850 7700
Wire Wire Line
	6500 7200 6500 7250
Wire Wire Line
	650  6700 650  6750
Wire Wire Line
	950  6250 950  6300
Wire Wire Line
	5100 7200 5100 7250
Wire Wire Line
	4800 7650 4800 7700
Wire Wire Line
	4200 7650 4200 7700
Wire Wire Line
	3600 7650 3600 7700
Wire Wire Line
	3000 7650 3000 7700
Wire Wire Line
	4500 7200 4500 7250
Wire Wire Line
	3900 7200 3900 7250
Wire Wire Line
	3300 7250 3300 7200
Wire Wire Line
	2700 7650 2700 7700
Wire Wire Line
	2100 7700 2100 7650
Wire Wire Line
	1500 7700 1500 7650
Wire Wire Line
	900  7700 900  7650
Wire Wire Line
	2700 7200 2700 7250
Wire Wire Line
	2100 7200 2100 7250
Wire Wire Line
	1500 7250 1500 7200
Wire Wire Line
	900  7250 900  7200
Wire Wire Line
	600  7250 600  7200
Wire Wire Line
	1200 7250 1200 7200
Wire Wire Line
	1800 7250 1800 7200
Wire Wire Line
	2400 7250 2400 7200
Wire Wire Line
	600  7650 600  7700
Wire Wire Line
	1200 7650 1200 7700
Wire Wire Line
	1800 7650 1800 7700
Wire Wire Line
	2400 7650 2400 7700
Wire Wire Line
	3000 7250 3000 7200
Wire Wire Line
	3600 7200 3600 7250
Wire Wire Line
	4200 7200 4200 7250
Wire Wire Line
	4800 7200 4800 7250
Wire Wire Line
	3300 7650 3300 7700
Wire Wire Line
	3900 7650 3900 7700
Wire Wire Line
	4500 7650 4500 7700
Wire Wire Line
	5100 7700 5100 7650
Wire Wire Line
	650  6250 650  6300
Wire Wire Line
	950  6700 950  6750
Wire Wire Line
	6900 6050 6900 6000
Wire Wire Line
	6850 7200 6850 7250
Wire Wire Line
	6500 7650 6500 7700
Wire Wire Line
	5650 7650 5650 7700
Wire Wire Line
	6000 7200 6000 7250
Wire Wire Line
	5650 7200 5650 7250
Wire Wire Line
	6000 7650 6000 7700
Wire Wire Line
	3000 3600 2850 3600
Wire Wire Line
	3000 4400 2950 4400
Wire Wire Line
	2500 1250 2500 1150
Wire Wire Line
	2500 1150 2150 1150
Wire Wire Line
	3000 4900 2850 4900
Wire Wire Line
	2850 5100 3000 5100
Wire Wire Line
	3600 6050 3600 6000
Wire Wire Line
	4900 6050 4900 6000
Wire Wire Line
	5900 6050 5900 6000
Wire Wire Line
	6950 6150 7000 6150
Wire Wire Line
	7000 6150 7000 6000
Wire Wire Line
	7600 4550 7600 4500
Wire Wire Line
	7600 4500 7500 4500
Wire Wire Line
	7600 3450 7600 3400
Wire Wire Line
	7600 3400 7500 3400
Wire Wire Line
	7500 2100 7600 2100
Wire Wire Line
	7600 2100 7600 2150
Wire Wire Line
	7700 2200 7500 2200
Wire Wire Line
	5900 1450 5900 1350
Wire Wire Line
	5900 1350 5950 1350
Wire Wire Line
	5950 1350 5950 1400
Wire Wire Line
	4800 1450 4800 1400
Wire Wire Line
	3600 1450 3600 1400
Wire Wire Line
	4600 6050 4600 6000
Wire Wire Line
	2950 4200 3000 4200
Wire Wire Line
	1600 3150 1600 3100
Connection ~ 1600 3100
Wire Wire Line
	1200 2700 1300 2700
Connection ~ 1250 2700
Wire Wire Line
	10250 850  10250 900 
Wire Wire Line
	10250 900  10300 900 
Wire Wire Line
	6700 1400 6700 1450
Wire Wire Line
	10300 1150 10250 1150
Wire Wire Line
	10250 1150 10250 1100
Wire Wire Line
	10800 1150 10850 1150
Wire Wire Line
	950  1450 850  1450
Wire Wire Line
	1500 2100 1500 2050
Wire Wire Line
	1500 1450 1500 1400
Wire Wire Line
	950  2100 950  2050
Wire Wire Line
	950  900  950  800 
Wire Wire Line
	9350 1250 9300 1250
Wire Wire Line
	9300 1250 9300 1200
Wire Wire Line
	9350 1450 9300 1450
Wire Wire Line
	4200 1400 4200 1450
Wire Wire Line
	7800 2500 7500 2500
Wire Wire Line
	3000 5500 2950 5500
Wire Wire Line
	9200 2400 9150 2400
Wire Wire Line
	9200 2600 9150 2600
Wire Wire Line
	9150 2600 9150 2650
Wire Wire Line
	10450 2650 10450 2600
Wire Wire Line
	10450 2600 10500 2600
Wire Wire Line
	10500 2400 10450 2400
Wire Wire Line
	10500 2300 10450 2300
Wire Wire Line
	10450 2300 10450 2250
Wire Wire Line
	10450 2500 10500 2500
Wire Wire Line
	6800 6350 6800 6000
Wire Wire Line
	6200 6050 6200 6000
Wire Wire Line
	7650 3100 7500 3100
Wire Wire Line
	3000 5300 2950 5300
Wire Wire Line
	4000 6050 4000 6000
Wire Wire Line
	7550 4700 7500 4700
Text HLabel 7550 4600 2    60   Input ~ 0
enc4_B
Text HLabel 7550 4700 2    60   Input ~ 0
enc4_A
Text HLabel 4100 6050 3    60   Input ~ 0
enc3_B
Text HLabel 4000 6050 3    60   Input ~ 0
enc3_A
Text HLabel 7650 3100 2    60   Input ~ 0
enc2_B
Text HLabel 7650 3200 2    60   Input ~ 0
enc2_A
Text HLabel 6200 6050 3    60   Input ~ 0
enc1_B
Text HLabel 5800 6050 3    60   Input ~ 0
enc1_A
Text Label 6800 6350 3    60   ~ 0
USART3_RX
Text Label 6700 6050 3    60   ~ 0
USART3_TX
Text Label 10450 2500 2    60   ~ 0
USART3_TX
Text Label 10450 2400 2    60   ~ 0
USART3_RX
$Comp
L CONN_4 P?
U 1 1 52513E59
P 10850 2450
F 0 "P?" V 10800 2450 50  0000 C CNN
F 1 "CONN_4" V 10900 2450 50  0000 C CNN
	1    10850 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 52513E58
P 10450 2650
F 0 "#PWR?" H 10450 2650 30  0001 C CNN
F 1 "GND" H 10450 2580 30  0001 C CNN
	1    10450 2650
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 52513E57
P 10450 2250
F 0 "#PWR?" H 10450 2210 30  0001 C CNN
F 1 "+3.3V" H 10450 2360 30  0000 C CNN
	1    10450 2250
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 52513DC5
P 9150 2250
F 0 "#PWR?" H 9150 2210 30  0001 C CNN
F 1 "+3.3V" H 9150 2360 30  0000 C CNN
	1    9150 2250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 52513DC3
P 9150 2650
F 0 "#PWR?" H 9150 2650 30  0001 C CNN
F 1 "GND" H 9150 2580 30  0001 C CNN
	1    9150 2650
	1    0    0    -1  
$EndComp
$Comp
L CONN_4 P?
U 1 1 52513DBE
P 9550 2450
F 0 "P?" V 9500 2450 50  0000 C CNN
F 1 "CONN_4" V 9600 2450 50  0000 C CNN
	1    9550 2450
	1    0    0    -1  
$EndComp
Text Label 9150 2400 2    60   ~ 0
USART2_RX
Text Label 9150 2500 2    60   ~ 0
USART2_TX
Text Label 3500 6050 3    60   ~ 0
USART2_RX
Text Label 2950 5500 2    60   ~ 0
USART2_TX
Text HLabel 7800 2400 2    60   Input ~ 0
CAN1_TX
Text HLabel 7800 2500 2    60   Input ~ 0
CAN1_RX
Text Label 4300 1400 1    60   ~ 0
USART_PROG_TX
Text Label 4200 1400 1    60   ~ 0
USART_PROG_RX
Text Label 9300 1450 2    60   ~ 0
USART_PROG_TX
Text Label 9300 1350 2    60   ~ 0
USART_PROG_RX
$Comp
L GND #PWR?
U 1 1 52504E33
P 9300 1600
F 0 "#PWR?" H 9300 1600 30  0001 C CNN
F 1 "GND" H 9300 1530 30  0001 C CNN
	1    9300 1600
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 52504E2E
P 9300 1200
F 0 "#PWR?" H 9300 1160 30  0001 C CNN
F 1 "+3.3V" H 9300 1310 30  0000 C CNN
	1    9300 1200
	1    0    0    -1  
$EndComp
$Comp
L CONN_4 P?
U 1 1 52504E1A
P 9700 1400
F 0 "P?" V 9650 1400 50  0000 C CNN
F 1 "CONN_4" V 9750 1400 50  0000 C CNN
	1    9700 1400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A6001
P 1500 2100
F 0 "#PWR?" H 1500 2100 30  0001 C CNN
F 1 "GND" H 1500 2030 30  0001 C CNN
	1    1500 2100
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 522A5FF6
P 1500 1150
F 0 "R?" V 1580 1150 50  0000 C CNN
F 1 "100k" V 1500 1150 50  0000 C CNN
	1    1500 1150
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5FDA
P 1500 800
F 0 "#PWR?" H 1500 900 30  0001 C CNN
F 1 "VDD" H 1500 910 30  0000 C CNN
	1    1500 800 
	1    0    0    -1  
$EndComp
$Comp
L JUMPER JP?
U 1 1 522A5FD5
P 1500 1750
F 0 "JP?" H 1500 1900 60  0000 C CNN
F 1 "JUMPER" H 1500 1670 40  0000 C CNN
	1    1500 1750
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5FBA
P 950 2100
F 0 "#PWR?" H 950 2100 30  0001 C CNN
F 1 "GND" H 950 2030 30  0001 C CNN
	1    950  2100
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 522A5FB0
P 950 1150
F 0 "R?" V 1030 1150 50  0000 C CNN
F 1 "100k" V 950 1150 50  0000 C CNN
	1    950  1150
	1    0    0    -1  
$EndComp
$Comp
L JUMPER JP?
U 1 1 522A5F6D
P 950 1750
F 0 "JP?" H 950 1900 60  0000 C CNN
F 1 "JUMPER" H 950 1670 40  0000 C CNN
	1    950  1750
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5E14
P 950 800
F 0 "#PWR?" H 950 900 30  0001 C CNN
F 1 "VDD" H 950 910 30  0000 C CNN
	1    950  800 
	1    0    0    -1  
$EndComp
Text Notes 8950 700  0    60   ~ 0
UART1 is selected as bootloader
Text Label 7550 2500 0    60   ~ 0
PA11
Text Label 7550 2400 0    60   ~ 0
PA12
$Comp
L R R?
U 1 1 522A5CF2
P 10550 1900
F 0 "R?" V 10630 1900 50  0000 C CNN
F 1 "100k" V 10550 1900 50  0000 C CNN
	1    10550 1900
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5CF1
P 10250 1850
F 0 "#PWR?" H 10250 1950 30  0001 C CNN
F 1 "VDD" H 10250 1960 30  0000 C CNN
	1    10250 1850
	1    0    0    -1  
$EndComp
Text Label 10850 1900 0    60   ~ 0
PA12
Text Label 10850 1650 0    60   ~ 0
PA11
$Comp
L VDD #PWR?
U 1 1 522A5CEB
P 10250 1600
F 0 "#PWR?" H 10250 1700 30  0001 C CNN
F 1 "VDD" H 10250 1710 30  0000 C CNN
	1    10250 1600
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 522A5CEA
P 10550 1650
F 0 "R?" V 10630 1650 50  0000 C CNN
F 1 "100k" V 10550 1650 50  0000 C CNN
	1    10550 1650
	0    -1   -1   0   
$EndComp
$Comp
L R R?
U 1 1 522A5CC2
P 10550 1400
F 0 "R?" V 10630 1400 50  0000 C CNN
F 1 "100k" V 10550 1400 50  0000 C CNN
	1    10550 1400
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5CC1
P 10250 1350
F 0 "#PWR?" H 10250 1450 30  0001 C CNN
F 1 "VDD" H 10250 1460 30  0000 C CNN
	1    10250 1350
	1    0    0    -1  
$EndComp
Text Label 10850 1400 0    60   ~ 0
PB5
Text Label 4400 1400 1    60   ~ 0
PB5
Text Label 10850 1150 0    60   ~ 0
PC11
$Comp
L VDD #PWR?
U 1 1 522A5BD9
P 10250 1100
F 0 "#PWR?" H 10250 1200 30  0001 C CNN
F 1 "VDD" H 10250 1210 30  0000 C CNN
	1    10250 1100
	1    0    0    -1  
$EndComp
$Comp
L R R?
U 1 1 522A5BD8
P 10550 1150
F 0 "R?" V 10630 1150 50  0000 C CNN
F 1 "100k" V 10550 1150 50  0000 C CNN
	1    10550 1150
	0    -1   -1   0   
$EndComp
Text Label 6700 1400 1    60   ~ 0
PC11
$Comp
L R R?
U 1 1 522A5B77
P 10550 900
F 0 "R?" V 10630 900 50  0000 C CNN
F 1 "100k" V 10550 900 50  0000 C CNN
	1    10550 900 
	0    -1   -1   0   
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5B6D
P 10250 850
F 0 "#PWR?" H 10250 950 30  0001 C CNN
F 1 "VDD" H 10250 960 30  0000 C CNN
	1    10250 850 
	1    0    0    -1  
$EndComp
Text Label 10850 900  0    60   ~ 0
PB11
Text Label 6800 6050 3    60   ~ 0
PB11
Text Label 2000 2700 0    60   ~ 0
OSC_2
Text Label 1200 2700 2    60   ~ 0
OSC_1
$Comp
L CRYSTAL X?
U 1 1 522A5831
P 1600 2700
F 0 "X?" H 1600 2850 60  0000 C CNN
F 1 "CRYSTAL" H 1600 2550 60  0000 C CNN
	1    1600 2700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A581C
P 1600 3150
F 0 "#PWR?" H 1600 3150 30  0001 C CNN
F 1 "GND" H 1600 3080 30  0001 C CNN
	1    1600 3150
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A5815
P 1950 2900
F 0 "C?" H 2000 3000 50  0000 L CNN
F 1 "C" H 2000 2800 50  0000 L CNN
	1    1950 2900
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A5813
P 1250 2900
F 0 "C?" H 1300 3000 50  0000 L CNN
F 1 "C" H 1300 2800 50  0000 L CNN
	1    1250 2900
	1    0    0    -1  
$EndComp
Text Label 2950 4300 2    60   ~ 0
OSC_2
Text Label 2950 4200 2    60   ~ 0
OSC_1
Text Label 1400 1450 2    60   ~ 0
BOOT1
Text Label 850  1450 2    60   ~ 0
BOOT0
Text Label 4600 6050 3    60   ~ 0
BOOT1
Text Label 4100 1400 1    60   ~ 0
BOOT0
$Comp
L VDD #PWR?
U 1 1 522A5617
P 3600 1400
F 0 "#PWR?" H 3600 1500 30  0001 C CNN
F 1 "VDD" H 3600 1510 30  0000 C CNN
	1    3600 1400
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5522
P 3500 1400
F 0 "#PWR?" H 3500 1500 30  0001 C CNN
F 1 "VDD" H 3500 1510 30  0000 C CNN
	1    3500 1400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5514
P 4950 1400
F 0 "#PWR?" H 4950 1400 30  0001 C CNN
F 1 "GND" H 4950 1330 30  0001 C CNN
	1    4950 1400
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5510
P 4800 1400
F 0 "#PWR?" H 4800 1500 30  0001 C CNN
F 1 "VDD" H 4800 1510 30  0000 C CNN
	1    4800 1400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5505
P 5950 1400
F 0 "#PWR?" H 5950 1400 30  0001 C CNN
F 1 "GND" H 5950 1330 30  0001 C CNN
	1    5950 1400
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A54FC
P 5800 1400
F 0 "#PWR?" H 5800 1500 30  0001 C CNN
F 1 "VDD" H 5800 1510 30  0000 C CNN
	1    5800 1400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A54DD
P 7600 2150
F 0 "#PWR?" H 7600 2150 30  0001 C CNN
F 1 "GND" H 7600 2080 30  0001 C CNN
	1    7600 2150
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A54D4
P 7600 1950
F 0 "#PWR?" H 7600 2050 30  0001 C CNN
F 1 "VDD" H 7600 2060 30  0000 C CNN
	1    7600 1950
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A54C1
P 7600 3450
F 0 "#PWR?" H 7600 3450 30  0001 C CNN
F 1 "GND" H 7600 3380 30  0001 C CNN
	1    7600 3450
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A54B1
P 7600 3300
F 0 "#PWR?" H 7600 3400 30  0001 C CNN
F 1 "VDD" H 7600 3410 30  0000 C CNN
	1    7600 3300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A54A7
P 7600 4550
F 0 "#PWR?" H 7600 4550 30  0001 C CNN
F 1 "GND" H 7600 4480 30  0001 C CNN
	1    7600 4550
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A549C
P 7600 4400
F 0 "#PWR?" H 7600 4500 30  0001 C CNN
F 1 "VDD" H 7600 4510 30  0000 C CNN
	1    7600 4400
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5485
P 6950 6150
F 0 "#PWR?" H 6950 6250 30  0001 C CNN
F 1 "VDD" H 6950 6260 30  0000 C CNN
	1    6950 6150
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5474
P 5950 6150
F 0 "#PWR?" H 5950 6250 30  0001 C CNN
F 1 "VDD" H 5950 6260 30  0000 C CNN
	1    5950 6150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A546C
P 5900 6050
F 0 "#PWR?" H 5900 6050 30  0001 C CNN
F 1 "GND" H 5900 5980 30  0001 C CNN
	1    5900 6050
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A545E
P 4950 6150
F 0 "#PWR?" H 4950 6250 30  0001 C CNN
F 1 "VDD" H 4950 6260 30  0000 C CNN
	1    4950 6150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5455
P 4900 6050
F 0 "#PWR?" H 4900 6050 30  0001 C CNN
F 1 "GND" H 4900 5980 30  0001 C CNN
	1    4900 6050
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A543E
P 3650 6150
F 0 "#PWR?" H 3650 6250 30  0001 C CNN
F 1 "VDD" H 3650 6260 30  0000 C CNN
	1    3650 6150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5432
P 3600 6050
F 0 "#PWR?" H 3600 6050 30  0001 C CNN
F 1 "GND" H 3600 5980 30  0001 C CNN
	1    3600 6050
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A53CB
P 2850 5100
F 0 "#PWR?" H 2850 5200 30  0001 C CNN
F 1 "VDD" H 2850 5210 30  0000 C CNN
	1    2850 5100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A53BE
P 2700 5050
F 0 "#PWR?" H 2700 5050 30  0001 C CNN
F 1 "GND" H 2700 4980 30  0001 C CNN
	1    2700 5050
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A53A9
P 2850 4900
F 0 "#PWR?" H 2850 5000 30  0001 C CNN
F 1 "VDD" H 2850 5010 30  0000 C CNN
	1    2850 4900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A538F
P 2350 1800
F 0 "#PWR?" H 2350 1800 30  0001 C CNN
F 1 "GND" H 2350 1730 30  0001 C CNN
	1    2350 1800
	1    0    0    -1  
$EndComp
Text Label 2500 1150 0    60   ~ 0
NRST
$Comp
L SW_PUSH SW?
U 1 1 522A5375
P 2150 1450
F 0 "SW?" H 2300 1560 50  0000 C CNN
F 1 "SW_PUSH" H 2150 1370 50  0000 C CNN
	1    2150 1450
	0    -1   -1   0   
$EndComp
$Comp
L C C?
U 1 1 522A5346
P 2500 1450
F 0 "C?" H 2550 1550 50  0000 L CNN
F 1 "100n" H 2550 1350 50  0000 L CNN
	1    2500 1450
	1    0    0    -1  
$EndComp
Text Label 2950 4400 2    60   ~ 0
NRST
$Comp
L GND #PWR?
U 1 1 522A530B
P 2700 3550
F 0 "#PWR?" H 2700 3550 30  0001 C CNN
F 1 "GND" H 2700 3480 30  0001 C CNN
	1    2700 3550
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A52F7
P 2850 3600
F 0 "#PWR?" H 2850 3700 30  0001 C CNN
F 1 "VDD" H 2850 3710 30  0000 C CNN
	1    2850 3600
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A52E1
P 2850 2500
F 0 "#PWR?" H 2850 2600 30  0001 C CNN
F 1 "VDD" H 2850 2610 30  0000 C CNN
	1    2850 2500
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A5236
P 5650 7450
F 0 "C?" H 5700 7550 50  0000 L CNN
F 1 "100n" H 5700 7350 50  0000 L CNN
	1    5650 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A5235
P 6000 7450
F 0 "C?" H 6050 7550 50  0000 L CNN
F 1 "1u" H 6050 7350 50  0000 L CNN
	1    6000 7450
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5234
P 5650 7200
F 0 "#PWR?" H 5650 7300 30  0001 C CNN
F 1 "VDD" H 5650 7310 30  0000 C CNN
	1    5650 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A5233
P 6000 7200
F 0 "#PWR?" H 6000 7300 30  0001 C CNN
F 1 "VDD" H 6000 7310 30  0000 C CNN
	1    6000 7200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5232
P 5650 7700
F 0 "#PWR?" H 5650 7700 30  0001 C CNN
F 1 "GND" H 5650 7630 30  0001 C CNN
	1    5650 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A5231
P 6000 7700
F 0 "#PWR?" H 6000 7700 30  0001 C CNN
F 1 "GND" H 6000 7630 30  0001 C CNN
	1    6000 7700
	1    0    0    -1  
$EndComp
Text Notes 5900 7000 2    60   ~ 0
Vref
Text Notes 6750 7000 2    60   ~ 0
VSSA
$Comp
L GND #PWR?
U 1 1 522A4DC1
P 6850 7700
F 0 "#PWR?" H 6850 7700 30  0001 C CNN
F 1 "GND" H 6850 7630 30  0001 C CNN
	1    6850 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4DBF
P 6500 7700
F 0 "#PWR?" H 6500 7700 30  0001 C CNN
F 1 "GND" H 6500 7630 30  0001 C CNN
	1    6500 7700
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4DBD
P 6850 7200
F 0 "#PWR?" H 6850 7300 30  0001 C CNN
F 1 "VDD" H 6850 7310 30  0000 C CNN
	1    6850 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4DBC
P 6500 7200
F 0 "#PWR?" H 6500 7300 30  0001 C CNN
F 1 "VDD" H 6500 7310 30  0000 C CNN
	1    6500 7200
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4D7E
P 6850 7450
F 0 "C?" H 6900 7550 50  0000 L CNN
F 1 "1u" H 6900 7350 50  0000 L CNN
	1    6850 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4D79
P 6500 7450
F 0 "C?" H 6550 7550 50  0000 L CNN
F 1 "100n" H 6550 7350 50  0000 L CNN
	1    6500 7450
	1    0    0    -1  
$EndComp
Text Label 7700 2200 0    60   ~ 0
vcap_2
Text Label 6900 6050 3    60   ~ 0
vcap_1
Text Label 950  6250 1    60   ~ 0
vcap_2
Text Label 650  6250 1    60   ~ 0
vcap_1
Text Notes 650  6000 0    60   ~ 0
VCap
$Comp
L GND #PWR?
U 1 1 522A4C85
P 950 6750
F 0 "#PWR?" H 950 6750 30  0001 C CNN
F 1 "GND" H 950 6680 30  0001 C CNN
	1    950  6750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4C83
P 650 6750
F 0 "#PWR?" H 650 6750 30  0001 C CNN
F 1 "GND" H 650 6680 30  0001 C CNN
	1    650  6750
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4C79
P 950 6500
F 0 "C?" H 1000 6600 50  0000 L CNN
F 1 "2.2u" H 1000 6400 50  0000 L CNN
	1    950  6500
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4C69
P 650 6500
F 0 "C?" H 700 6600 50  0000 L CNN
F 1 "2.2u" H 700 6400 50  0000 L CNN
	1    650  6500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4C3F
P 5100 7700
F 0 "#PWR?" H 5100 7700 30  0001 C CNN
F 1 "GND" H 5100 7630 30  0001 C CNN
	1    5100 7700
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4C3D
P 5100 7200
F 0 "#PWR?" H 5100 7300 30  0001 C CNN
F 1 "VDD" H 5100 7310 30  0000 C CNN
	1    5100 7200
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4C2D
P 5100 7450
F 0 "C?" H 5150 7550 50  0000 L CNN
F 1 "4.7u" H 5150 7350 50  0000 L CNN
	1    5100 7450
	1    0    0    -1  
$EndComp
Text Notes 550  7000 0    60   ~ 0
VDD pins
$Comp
L VDD #PWR?
U 1 1 522A4B68
P 4800 7200
F 0 "#PWR?" H 4800 7300 30  0001 C CNN
F 1 "VDD" H 4800 7310 30  0000 C CNN
	1    4800 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B67
P 4500 7200
F 0 "#PWR?" H 4500 7300 30  0001 C CNN
F 1 "VDD" H 4500 7310 30  0000 C CNN
	1    4500 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B65
P 4200 7200
F 0 "#PWR?" H 4200 7300 30  0001 C CNN
F 1 "VDD" H 4200 7310 30  0000 C CNN
	1    4200 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B61
P 3900 7200
F 0 "#PWR?" H 3900 7300 30  0001 C CNN
F 1 "VDD" H 3900 7310 30  0000 C CNN
	1    3900 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B60
P 3600 7200
F 0 "#PWR?" H 3600 7300 30  0001 C CNN
F 1 "VDD" H 3600 7310 30  0000 C CNN
	1    3600 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B5E
P 3300 7200
F 0 "#PWR?" H 3300 7300 30  0001 C CNN
F 1 "VDD" H 3300 7310 30  0000 C CNN
	1    3300 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B5C
P 3000 7200
F 0 "#PWR?" H 3000 7300 30  0001 C CNN
F 1 "VDD" H 3000 7310 30  0000 C CNN
	1    3000 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B59
P 2700 7200
F 0 "#PWR?" H 2700 7300 30  0001 C CNN
F 1 "VDD" H 2700 7310 30  0000 C CNN
	1    2700 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B54
P 2400 7200
F 0 "#PWR?" H 2400 7300 30  0001 C CNN
F 1 "VDD" H 2400 7310 30  0000 C CNN
	1    2400 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B53
P 2100 7200
F 0 "#PWR?" H 2100 7300 30  0001 C CNN
F 1 "VDD" H 2100 7310 30  0000 C CNN
	1    2100 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B51
P 1800 7200
F 0 "#PWR?" H 1800 7300 30  0001 C CNN
F 1 "VDD" H 1800 7310 30  0000 C CNN
	1    1800 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B50
P 1500 7200
F 0 "#PWR?" H 1500 7300 30  0001 C CNN
F 1 "VDD" H 1500 7310 30  0000 C CNN
	1    1500 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B4C
P 1200 7200
F 0 "#PWR?" H 1200 7300 30  0001 C CNN
F 1 "VDD" H 1200 7310 30  0000 C CNN
	1    1200 7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B4B
P 900 7200
F 0 "#PWR?" H 900 7300 30  0001 C CNN
F 1 "VDD" H 900 7310 30  0000 C CNN
	1    900  7200
	1    0    0    -1  
$EndComp
$Comp
L VDD #PWR?
U 1 1 522A4B48
P 600 7200
F 0 "#PWR?" H 600 7300 30  0001 C CNN
F 1 "VDD" H 600 7310 30  0000 C CNN
	1    600  7200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B40
P 4800 7700
F 0 "#PWR?" H 4800 7700 30  0001 C CNN
F 1 "GND" H 4800 7630 30  0001 C CNN
	1    4800 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B3F
P 4500 7700
F 0 "#PWR?" H 4500 7700 30  0001 C CNN
F 1 "GND" H 4500 7630 30  0001 C CNN
	1    4500 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B3E
P 4200 7700
F 0 "#PWR?" H 4200 7700 30  0001 C CNN
F 1 "GND" H 4200 7630 30  0001 C CNN
	1    4200 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B3D
P 3900 7700
F 0 "#PWR?" H 3900 7700 30  0001 C CNN
F 1 "GND" H 3900 7630 30  0001 C CNN
	1    3900 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B3B
P 3600 7700
F 0 "#PWR?" H 3600 7700 30  0001 C CNN
F 1 "GND" H 3600 7630 30  0001 C CNN
	1    3600 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B3A
P 3300 7700
F 0 "#PWR?" H 3300 7700 30  0001 C CNN
F 1 "GND" H 3300 7630 30  0001 C CNN
	1    3300 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B36
P 3000 7700
F 0 "#PWR?" H 3000 7700 30  0001 C CNN
F 1 "GND" H 3000 7630 30  0001 C CNN
	1    3000 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B35
P 2700 7700
F 0 "#PWR?" H 2700 7700 30  0001 C CNN
F 1 "GND" H 2700 7630 30  0001 C CNN
	1    2700 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B33
P 2400 7700
F 0 "#PWR?" H 2400 7700 30  0001 C CNN
F 1 "GND" H 2400 7630 30  0001 C CNN
	1    2400 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B32
P 2100 7700
F 0 "#PWR?" H 2100 7700 30  0001 C CNN
F 1 "GND" H 2100 7630 30  0001 C CNN
	1    2100 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B31
P 1800 7700
F 0 "#PWR?" H 1800 7700 30  0001 C CNN
F 1 "GND" H 1800 7630 30  0001 C CNN
	1    1800 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B30
P 1500 7700
F 0 "#PWR?" H 1500 7700 30  0001 C CNN
F 1 "GND" H 1500 7630 30  0001 C CNN
	1    1500 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B2D
P 1200 7700
F 0 "#PWR?" H 1200 7700 30  0001 C CNN
F 1 "GND" H 1200 7630 30  0001 C CNN
	1    1200 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B2B
P 900 7700
F 0 "#PWR?" H 900 7700 30  0001 C CNN
F 1 "GND" H 900 7630 30  0001 C CNN
	1    900  7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 522A4B28
P 600 7700
F 0 "#PWR?" H 600 7700 30  0001 C CNN
F 1 "GND" H 600 7630 30  0001 C CNN
	1    600  7700
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4B15
P 4800 7450
F 0 "C?" H 4850 7550 50  0000 L CNN
F 1 "100n" H 4850 7350 50  0000 L CNN
	1    4800 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4B13
P 4500 7450
F 0 "C?" H 4550 7550 50  0000 L CNN
F 1 "100n" H 4550 7350 50  0000 L CNN
	1    4500 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4B10
P 4200 7450
F 0 "C?" H 4250 7550 50  0000 L CNN
F 1 "100n" H 4250 7350 50  0000 L CNN
	1    4200 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4B0D
P 3900 7450
F 0 "C?" H 3950 7550 50  0000 L CNN
F 1 "100n" H 3950 7350 50  0000 L CNN
	1    3900 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4B0A
P 3600 7450
F 0 "C?" H 3650 7550 50  0000 L CNN
F 1 "100n" H 3650 7350 50  0000 L CNN
	1    3600 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A66
P 3300 7450
F 0 "C?" H 3350 7550 50  0000 L CNN
F 1 "100n" H 3350 7350 50  0000 L CNN
	1    3300 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A65
P 3000 7450
F 0 "C?" H 3050 7550 50  0000 L CNN
F 1 "100n" H 3050 7350 50  0000 L CNN
	1    3000 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A4E
P 2700 7450
F 0 "C?" H 2750 7550 50  0000 L CNN
F 1 "100n" H 2750 7350 50  0000 L CNN
	1    2700 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A4D
P 2400 7450
F 0 "C?" H 2450 7550 50  0000 L CNN
F 1 "100n" H 2450 7350 50  0000 L CNN
	1    2400 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A40
P 2100 7450
F 0 "C?" H 2150 7550 50  0000 L CNN
F 1 "100n" H 2150 7350 50  0000 L CNN
	1    2100 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A37
P 1800 7450
F 0 "C?" H 1850 7550 50  0000 L CNN
F 1 "100n" H 1850 7350 50  0000 L CNN
	1    1800 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A21
P 1500 7450
F 0 "C?" H 1550 7550 50  0000 L CNN
F 1 "100n" H 1550 7350 50  0000 L CNN
	1    1500 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A18
P 1200 7450
F 0 "C?" H 1250 7550 50  0000 L CNN
F 1 "100n" H 1250 7350 50  0000 L CNN
	1    1200 7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4A0F
P 900 7450
F 0 "C?" H 950 7550 50  0000 L CNN
F 1 "100n" H 950 7350 50  0000 L CNN
	1    900  7450
	1    0    0    -1  
$EndComp
$Comp
L C C?
U 1 1 522A4935
P 600 7450
F 0 "C?" H 650 7550 50  0000 L CNN
F 1 "100n" H 650 7350 50  0000 L CNN
	1    600  7450
	1    0    0    -1  
$EndComp
$Comp
L STM32F407ZG U?
U 1 1 52002A60
P 5150 3650
F 0 "U?" H 7300 1350 60  0000 C CNN
F 1 "STM32F407ZG" H 5200 3700 60  0000 C CNN
	1    5150 3650
	1    0    0    -1  
$EndComp
$EndSCHEMATC
